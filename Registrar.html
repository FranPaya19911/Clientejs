<!DOCTYPE html>
<html lang="es">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/script.js"></script>
</head>

<body>
    <form class="pagina" action="#">
        <h1>Registrarse</h1>
        <div class="contenedor">
            <div>
                <label for="Nombre">NOMBRE </label>
                <input type="text" id="nombre">
            </div>
            <div>
                <label for="Apellidos">APELLIDOS </label>
                <input type="text" id="apellidos">
            </div>
            <div>
                <label for="email">EMAIL </label>
                <input type="text" id="email">
            </div>
            <div>
                <label for="password">CONTRASEÑA</label>
                <input type="password" id="pass1">
            </div>
            <div>
                <label for="password">REPETIR CONTRASEÑA</label>
                <input type="password" id="pass2">
            </div>
            <div>
                <label for="imagen">IMAGEN</label>


                <input id="file-upload" type="file" accept="image/*" />

                <div>
                    <img class="img" id="img" src="img/user.png">
                </div>

            </div>

        </div>
        <div class="p-contenedor">
            <input type="button" id="registrarse" value="Registrarse" onclick="validador()" />
        </div>
    </form>
    <div id="Errores"></div>
</body>
<script>
    var fileUpload = document.getElementById('file-upload');

    fileUpload.onchange = function(e) {
        leerArchivo(e.srcElement);
    }

    function leerArchivo(input) {
        if (input.files) {

            var tre = input.files;
            var texto = "";
            var i = 0;
            var f = tre[i];
            texto = f.type;
            var tipo = texto.substring(0, 5);

            if (tipo === "image") {
                var reader = new FileReader();
                reader.onload = function(y) {
                    document.getElementById('img').src = "";
                    var filePreview = document.getElementById('img');
                    filePreview.src = y.target.result;
                }

                reader.readAsDataURL(input.files[0]);

            } else {
                document.getElementById('img').src = "img/user.png";
            }
        }
    }
</script>

</html>